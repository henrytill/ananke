image: debian/stable
packages:
  - build-essential
  - ghc
  - cabal-install
sources:
  - https://git.sr.ht/~henrytill/hecate
tasks:
  - cabal-update: |
      cabal v2-update
  - default: |
      cd hecate
      ./configure
      make all test
  - backend-json: |
      cd hecate
      ./configure -fbackend-json
      make all test
